<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>小车</title>
	<style type="text/css">
	*{
		margin:0;
		padding:0;
	}
	#mydiv{

		width:800px;
		height:800px;
		margin:0 auto;
		border:1px solid silver;
		margin-top:40px;
		position:relative;
	}
	#mycanvas{
		
	}
	</style>
</head>
<body>
<div id="mydiv">
	<canvas id="mycanvas" width="800px" height="800px"></canvas>
</div>
<script type="text/javascript" src="./three.min.js"></script>
<script type="text/javascript">
	var renderer = new THREE.WebGLRenderer({
    	antialias:true,
    	precision:"highp",
    	canvas: document.getElementById('mycanvas')
	})
// 设置画布的颜色
	renderer.setClearColor(0xffffff,0.3);
	renderer.shadowMapEnabled=true;
	renderer.shadowMapSoft=true;
	var scene=new THREE.Scene();
	var camera=new THREE.PerspectiveCamera(45,4/3,1,1000);
	camera.position.set(28,28,40);
	camera.lookAt(new THREE.Vector3(0,0,0));
	var material=new THREE.MeshLambertMaterial({
		color: 0xffffff,
	});
	scene.add(camera);

	var cube=new THREE.Mesh(new THREE.CubeGeometry(35,10,16),material)
	cube.castShadow=true;
	scene.add(cube);

	var plane=new THREE.Mesh(new THREE.PlaneGeometry(100,100,80,80),new THREE.MeshLambertMaterial({
		color: 0x00ff00,
	}));
	plane.rotation.x=-Math.PI/2;
	plane.position.y=-11;
	plane.position.x=-20;
	plane.receiveShadow = true;
	scene.add(plane);

	var tors1=new THREE.Mesh(new THREE.TorusGeometry(3,1,14,18,2*Math.PI),material);
	var tors2=new THREE.Mesh(new THREE.TorusGeometry(3,1,14,18,2*Math.PI),material);
	var tors3=new THREE.Mesh(new THREE.TorusGeometry(3,1,14,18,2*Math.PI),material);
	var tors4=new THREE.Mesh(new THREE.TorusGeometry(3,1,14,18,2*Math.PI),material);
	tors1.position.set(-10,-5,-8);
	tors2.position.set(10,-5,-8);
	tors3.position.set(-10,-5,8);
	tors4.position.set(10,-5,8);
	tors1.castShadow=true;
	tors2.castShadow=true;
	tors3.castShadow=true;
	tors4.castShadow=true;

	scene.add(tors1);
	scene.add(tors2);
	scene.add(tors3);
	scene.add(tors4);

	var light=new THREE.SpotLight(0xffffff);
	light.position.set(-8,35,60);
	light.target=cube;
	light.castShadow=true;

	
	light.shadowCamersNear=2;
	light.shadowCameraFar=100;
	light.shadowCameraFov=60;
	light.shadowMapWidth =4096;
	light.shadowMapHeight =8192;
	light.shadowDarkness = 0.3;
	
	scene.add(light);
	
	renderer.render(scene,camera);
	    
</script>
</body>
</html>